{"version":3,"sources":["./src/app/notification/notification.page.html","./src/app/notification/notification-routing.module.ts","./src/app/notification/notification.module.ts","./src/app/notification/notification.page.scss","./src/app/notification/notification.page.ts"],"names":[],"mappings":"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","file":"notification-notification-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"winners-red\\\">\\n    <ion-text>\\n      <div class=\\\"ion-text-wrap ion-text-end ion-padding\\\">\\n        WINNERS CHAPEL INT'L <br> NEW YORK\\n      </div>\\n    </ion-text>\\n    <ion-buttons slot=\\\"start\\\" style=\\\"flex-flow: column\\\">\\n      <ion-menu-button></ion-menu-button>\\n      <ion-back-button text=\\\"Back\\\" icon=\\\"caret-back\\\"></ion-back-button>\\n    </ion-buttons>\\n    <img src=\\\"assets/img/logo22.png\\\" alt=\\\"\\\" slot=\\\"end\\\" width=\\\"70vw\\\" class=\\\"ion-padding-vertical ion-padding-end\\\">\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list class=\\\"remove-top\\\">\\n    <img class=\\\"middlelogo\\\" src=\\\"assets/img/communion.jpg\\\" alt=\\\"\\\">\\n    <ion-item color=\\\"light\\\">\\n      <div class=\\\"ion-text-center center-me\\\">\\n        <h4>Subscribe to be notified</h4>\\n      </div>\\n    </ion-item>\\n    <ion-item *ngFor=\\\"let i of itemList\\\">\\n      <ion-label>{{getValue(i,'Group_Name')}}</ion-label>\\n      <ion-toggle checked=\\\"{{getValue(i,'Enabled')}}\\\" color=\\\"winners-red\\\" (ionChange)=\\\" onToggleChange(i,$event.detail)\\\"></ion-toggle>\\n    </ion-item>\\n\\n  </ion-list>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationPage } from './notification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationPageRoutingModule } from './notification-routing.module';\n\nimport { NotificationPage } from './notification.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificationPageRoutingModule\n  ],\n  declarations: [NotificationPage]\n})\nexport class NotificationPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24ucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport {DataService} from \"../services/data.service\";\nimport {Storage} from \"@ionic/storage\";\nimport { FCM } from \"cordova-plugin-fcm-with-dependecy-updated/ionic/ngx\";\n\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.page.html',\n  styleUrls: ['./notification.page.scss'],\n})\nexport class NotificationPage implements OnInit {\n  itemList\n  profile\n  constructor(private storage: Storage, private push: FCM, private apiCall: DataService) { }\n\n  getItems(){\n    let env = this;\n    this.storage.get('pushSettings')\n        .then( function (data) {\n          console.log(data);\n          env.itemList = JSON.parse(data);//).filter( x => typeof x === 'object');/\n         // env.itemList = this.parseAddKey(JSON.parse(data));\n          console.log(env.itemList);\n        });\n  }\n  parseAddKey(item){\n    //Object.keys(item).\n    //return item[Object.keys(item)[0]];\n\n  }\n\n  save() {\n    /*this.nativeStorage.setItem('profile', JSON.stringify(this.items));*/\n    this.storage.set('profile', JSON.stringify(this.profile));\n  }\n\n  addItem(idKey,val) {\n    if (this.profile.length > 0){\n      let obj = this.profile.filter(function (o) { return o[idKey] })[0];\n      console.log(obj);\n      if(typeof obj !== 'undefined'){\n        if (obj[idKey] !== val && idKey !== 'pushSettings') this.profile.push({[idKey] : val});\n      }else{\n        this.profile.push({[idKey] : val});\n      }\n    }else{\n      this.profile.push({[idKey] : val});\n    }\n    console.log(this.profile);\n    this.save();\n  }\n\n  getValue(item,t){\n    //console.log(item[Object.keys(item)[0]][t])\n    return item[Object.keys(item)[0]][t];\n  }\n\n  onToggleChange(i,s){\n    Object.values(this.itemList).forEach((v)=>{\n      let dKey = Object.keys(v)[0]\n     let dVal = v[dKey]\n      if (dVal.id === Object.keys(i)[0]) {\n        dVal.Enabled = s.checked\n        this.storage.set('pushSettings', JSON.stringify(this.itemList)).then(()=>{\n          console.log(dVal.Group_Name);\n          (s.checked) ? this.push.subscribeToTopic(dVal.Group_Name.replace(/\\s/g, \"-\")) : this.push.unsubscribeFromTopic(dVal.Group_Name.replace(/\\s/g, \"-\"));\n        });\n      }\n    })\n  }\n\n  ngOnInit() {\n  this.getItems()\n  }\n\n}\n"],"sourceRoot":"webpack:///"}